<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <link rel="stylesheet" href="styles/catalog.css">
    <title>Document</title>
</head>
<body>
   <!-- Всплывающее окно -->

   <div class="modal-window visually-hidden">
    <div class="modal-window-content">
      <span class="modal-header-container">
        <legend class="modal-header">Поиск гостиницы в Седоне</legend>
        <img class="close-modal-window" src="images/catalog-images/close-modal-window.svg" alt="">
      </span>
      <form action="" method="post">
      <fieldset>
        <span class="checkin-date input-outline">
          <label for="checkin"><p class="modal-header-inside">Дата заезда:</p></label><input type="date" id="checkin">
        </span>
        <span class="checkout-date input-outline">
          <label for="checkout"><p class="modal-header-inside">Дата выезда:</p></label><input type="date" id="checkout">
        </span>
        <span class="people-quantity">
          <label for="grownups"><p class="modal-header-inside">Взрослые:</p></label>
          <span class="people-quantity-right">
            <span class="wrapper-for-plus-minus">
              <img class="minus" src="images/catalog-images/minus.svg" height="2" width="13" alt="Меньше">
              <img class="plus" src="images/catalog-images/plus.svg" height="13" width="13" alt="Больше">
              <input type="number" id="grownups" value="1">
            </span>
            <span class="children-number">
              <div class="pop-up-window visually-hidden">
                <p class="text-pop-up">Укажите количество детей, которые будут с вами, 
                  возраст которых от 6 до 18 лет. 
                  Дети до 6 лет размещаются бесплатно.</p>
                <img class="pop-up-img" src="images/catalog-images/pop-up-window-info.svg" alt="">
              </div>
              <label for="children"><p class="modal-header-inside">Дети:</p></label>
              <img class="information-icon" src="images/catalog-images/date-infomation-icon.svg" alt="">
              <span class="wrapper-for-plus-minus">
                <img class="minus-right" src="images/catalog-images/minus.svg" height="2" width="13" alt="Меньше">
                <img class="plus-right" src="images/catalog-images/plus.svg" height="13" width="13" alt="Больше">
                <input type="number" id="children" value="0">
              </span>
            </span>
          </span>
        </span>
        <button class="dark-button-outline">Найти</button>
      </fieldset>
      </form>
    </div>
  </div>


    <!-- Шапка, главное меню, навигация -->
    <header class="top-menu">
        <nav class="navigation">
            <ul class="navigation-list">
              <li class="navigation-items">
                <a class="navigation-link" href="index.html">Главная</a>
              </li>
              <li class="navigation-items">
                <a class="navigation-link" href="#">О Седоне</a>
              </li>
              <li class="navigation-items">
                <a class="navigation-link" href="catalog.html">Гостиницы</a>
              </li>
            </ul>
            <ul class="navigation-list navigation-user">
              <li class="user-items">
                <a class="search-link" href="#">
                  <img class="search" src="images/search-icon.svg" width="18" height="18" alt="Поиск">
                  <span class="visually-hidden">Поиск</span>
                </a>
              </li>
              <li class="user-items">
                <a class="like-link" href="#">
                  <img class="favorite" src="images/favorite.svg" width="18" height="17" alt="В избранное">
                  <img class="counter" src="images/like-accounter.svg" width="20" height="20" alt="Добавлено в избранное">
                  <span class="visually-hidden">Добавить в избранное</span>
                  <span class="counter-value">12</span>
                </a>
              </li>
            </ul>
            <button class="choose-date-button">Хочу сюда!</button>
            <a class="logo-link" href="https://htmlacademy.ru/"><img src="images/logo.svg" width="139" height="70" alt="Логотип Sedona"></a>
        </nav>
      </header>
      <main class="catalog-wrapper">

       <!-- Скрипт всплывающего окна -->
      <script>
        let plusButton = document.querySelector('.plus');
        let plusButtonRight = document.querySelector('.plus-right');
        
        let minusButton = document.querySelector('.minus');
        let minusButtonRight = document.querySelector('.minus-right');

        let closeButton = document.querySelector('.close-modal-window');

        let grownupsValue = document.getElementById('grownups');
        let childrenValue = document.getElementById('children');

        let openPopUp = document.querySelector('.choose-date-button');
        let modalWindow = document.querySelector('.modal-window');

        let miniPopUp = document.querySelector('.pop-up-window');
        let infoIcon = document.querySelector('.information-icon');

        // Вызов всплывающего окна

        openPopUp.addEventListener('click', ()=> {
          modalWindow.classList.remove('visually-hidden');
        })

        // Закрываем всплывающее окно

        closeButton.addEventListener('click', ()=> {
          modalWindow.classList.add('visually-hidden');
        })

        // Мини всплывающее окно

        infoIcon.addEventListener('mouseover', ()=> {
            miniPopUp.classList.remove('visually-hidden');
        })

        // Закрываем мини всплывающее окно

        infoIcon.addEventListener('mouseleave', ()=> {
          miniPopUp.classList.add('visually-hidden');
        })

        plusButton.addEventListener('click', ()=> {
          let numberGrownups = Number(grownupsValue.value);
          grownupsValue.value = numberGrownups + 1;
        })

        minusButton.addEventListener('click', ()=> {
          if (grownupsValue.value < 1) {
            grownupsValue.value = 0;
          } else {
            let numberGrownups = Number(grownupsValue.value);
            grownupsValue.value = numberGrownups - 1;
          }
        })

        plusButtonRight.addEventListener('click', ()=> {
          let numberChildren = Number(childrenValue.value);
          childrenValue.value = numberChildren + 1;
        })

        minusButtonRight.addEventListener('click', ()=> {
          if (childrenValue.value < 1) {
            childrenValue.value = 0;
          } else {
            let numberChildren = Number(childrenValue.value);
            childrenValue.value = numberChildren - 1;
          }
        })

      </script>

        <h1 class="visually-hidden">
          Каталог гостиниц Седоны
        </h1>
          <!-- Основной фильтр для настройки поиска гостиницы -->
        <header class="first-screen-catalog">
            <section class="select-hotels">
                <p class="first-screen-header">Гостиницы седоны</p>
                <span class="breadcrumbs">
                   <img src="images/catalog-images/home-breadcrumbs.svg" width="12" height="12" alt="Домой"> 
                   <img src="images/catalog-images/nav-arrov.svg" width="5" height="7" alt="Стрелка">
                   <a href="catalog.html">Каталог</a>
                </span>
                <div class="headers-to-list">
                   <p class="header-filter-list">Тип жилья:</p>
                   <p class="header-filter-list">Инфраструктура:</p>
                </div>
                <div class="selectors">
                  <ul class="checkbox-list">
                      <li class="type-of-hotels"><input type="checkbox" class="checkbox" id="checkbox-1" checked><label for="checkbox-1">Бассейн</label></li>
                      <li class="type-of-hotels"><input type="checkbox" class="checkbox" id="checkbox-2"><label for="checkbox-2">Парковка</label></li>
                      <li class="type-of-hotels"><input type="checkbox" class="checkbox" id="checkbox-3"><label for="checkbox-3">Wi-Fi</label></li>
                  </ul>
                  <ul class="button-list">
                      <li class="infrastructure"><input type="radio" class="radio" id="radio-1" checked><label for="radio-1">Гостиница</label></li>
                      <li class="infrastructure"><input type="radio" class="radio" id="radio-2"><label for="radio-2">Отель</label></li>
                      <li class="infrastructure"><input type="radio" class="radio" id="radio-3"><label for="radio-3">Аппартаменты</label></li>
                  </ul>
                </div>
            </section>
            <section class="select-price">
              <div class="price-range">
                <p>Стоимость, ₽:</p>
                <input class="price-from input-outline" type="text" value=""><input class="price-to input-outline" type="text" value="">
                <br>
                <div class="double-range">
                  <div class="range-track">
                    <div class="range-track-active"></div>
                  </div>
                  <input class="range-left range" type="range" min="0" max="9000" step="100" value="2500">
                  <input class="range-right range" type="range" min="0" max="9000" step="100" value="7500">
                </div>
              </div>
              <div class="price-button">
                <input class="button-go light-button-outline" type="button" value="Применить">
                <br>
                <input class="button-clear blue-button-outline" type="button" value="Сбросить">
              </div>
              <script>
                let leftRange = document.querySelector('.range-left');
                let rightRange = document.querySelector('.range-right');
                let rangeTrack = document.querySelector('.range-track');
                let rangeTrackActive = document.querySelector('.range-track-active');

                let priceFrom = document.querySelector('.price-from');
                let priceTo = document.querySelector('.price-to');

                priceFrom.value = leftRange.value;
                priceTo.value = rightRange.value;
                rangeTrackActive.style.left = (priceFrom.value / leftRange.max) * 100 + '%';
                rangeTrackActive.style.right = 100 - (priceTo.value / rightRange.max) * 100 + '%';

                let priceDifference = 1000;

                rightRange.addEventListener('click', () => {
                  if (priceTo.value - priceFrom.value <= priceDifference) {
                    let numberPriceFromValue = parseInt(priceFrom.value);
                    rangeTrackActive.style.right = 100 - ((numberPriceFromValue + priceDifference) / rightRange.max) * 100 + '%';
                    console.log('change');
                  }
                });

                priceFrom.onchange = function() {
                  if (priceTo.value-priceFrom.value <= priceDifference) {
                    let numberPriceToValue = parseInt(priceTo.value);
                    priceFrom.value = numberPriceToValue - priceDifference;
                  }
                  leftRange.value = priceFrom.value;
                  rangeTrackActive.style.left = (priceFrom.value / leftRange.max) * 100 + '%';
                }

                priceTo.onchange = function() {
                  // console.log(priceTo.value-priceFrom.value);
                  if (priceTo.value-priceFrom.value <= priceDifference) {
                    let numberPriceFromValue = parseInt(priceFrom.value);
                    priceTo.value = numberPriceFromValue + priceDifference;
                  }
                  rightRange.value = priceTo.value;
                  rangeTrackActive.style.right = 100 - (priceTo.value / rightRange.max) * 100 + '%';
                }

                leftRange.addEventListener('input', () => {
                  if (rightRange.value - leftRange.value < priceDifference) {
                    priceFrom.value = priceTo.value - priceDifference;
                    leftRange.value = rightRange.value - priceDifference;
                  } else {
                    priceFrom.value = leftRange.value; 
                    rangeTrackActive.style.left = (priceFrom.value / leftRange.max) * 100 + '%';
                  }
                });

                rightRange.addEventListener('input', () => {
                  let numberPriceFromValue = parseInt(priceFrom.value);
                  let numberLeftRangeValue = parseInt(leftRange.value);
                  if (rightRange.value - leftRange.value < priceDifference) {
                    priceTo.value = numberPriceFromValue + priceDifference;
                    rightRange.value = numberLeftRangeValue + priceDifference;
                  } else {
                    priceTo.value = rightRange.value; 
                    rangeTrackActive.style.right = 100 - (priceTo.value / rightRange.max) * 100 + '%';
                  }
                });
              </script>
            </section>
        </header>
        <!-- Каталог гостиниц, выбор гостиницы -->
        <section class="avaliable-hotels">
            <h2 class="visually-hidden">
                Достыпные гостиницы
            </h2>
            <!-- Шапка над списком каталога с фильтрами -->
            <div class="avaliable-hotels-header">
                <p>Найдено гостиниц: 38</p>

                <select name="filter-hotels" id="filter-hotels" class="input-outline">
                    <option value="">Сначала дешёвые</option>
                    <option value="">Рейтинг по возратсанию</option>
                </select>
                <!-- настройка фида списка гостиниц -->
                <div class="show-how">
                    <a href="#" class="display-options-active display-icon"><img  src="images/catalog-images/plitka.svg" width="16" height="14" alt="Отобразить плиткой"></a>
                    <a href="#" class="display-options display-icon"><img  src="images/catalog-images/display-big.svg" width="16" height="14" alt="На всю ширину"></a>
                    <a href="#" class="display-options display-icon"><img  src="images/catalog-images/list.svg" width="16" height="14" alt="Отобразить списком"></a>
                </div>
            </div>

            <ul class="hotels-list">
                <li class="hotels-items">
                    <img src="images/catalog-images/first-hotel.jpg" width="299" height="220" alt="Amara Resort & Spa">
                    <h3 class="hotel-header">Amara Resort & Spa</h3>
                    <div class="price-hotel">
                        <p>Гостиница</p>
                        <p>от 4000 р</p>
                    </div>
                    <div class="hotels-button">
                        <input type="button" value="Подробнее" class="more-btn blue-button-outline">
                        <input type="button" value="В избранное" class="favorite-btn dark-button-outline">
                    </div>
                    <div class="hotel-rating">
                      <div class="stars">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                      </div>
                        <p>Рейтинг: 8,5</p>
                    </div>
                </li>
                <li class="hotels-items">
                    <img src="images/catalog-images/second-hotel.jpg" width="309" height="220" alt="Desert Quail Inn">
                    <h3 class="hotel-header">Desert Quail Inn</h3>
                    <div class="price-hotel">
                        <p>Гостиница</p>
                        <p>от 3000 р</p>
                    </div>
                    <div class="hotels-button">
                        <input type="button" value="Подробнее" class="more-btn blue-button-outline">
                        <input type="button" value="В избранное" class="favorite-btn dark-button-outline">
                    </div>
                    <div class="hotel-rating">
                      <div class="stars">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                      </div>
                        <p>Рейтинг: 8,9</p>
                    </div>
                </li>
                <li class="hotels-items">
                    <img src="images/catalog-images/third-hotel.jpg" width="308" height="220" alt="Villas at Poco Diablo">
                    <h3 class="hotel-header">Villas at Poco Diablo</h3>
                    <div class="price-hotel">
                        <p>Гостиница</p>
                        <p>от 2000 р</p>
                    </div>
                    <div class="hotels-button">
                        <input type="button" value="Подробнее" class="more-btn blue-button-outline">
                        <input type="button" value="В избранном" class="favorite-btn-active dark-button-outline">
                    </div>
                    <div class="hotel-rating">
                      <div class="stars">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                      </div>
                        <p>Рейтинг: 9,2</p>
                    </div>
                </li>
                <li class="hotels-items">
                    <img src="images/catalog-images/fourth-hotel.jpg" width="299" height="220" alt="GreenTree Inn">
                    <h3 class="hotel-header">GreenTree Inn</h3>
                    <div class="price-hotel">
                        <p>Гостиница</p>
                        <p>от 3000 р</p>
                    </div>
                    <div class="hotels-button">
                        <input type="button" value="Подробнее" class="more-btn blue-button-outline">
                        <input type="button" value="В избранном" class="favorite-btn dark-button-outline">
                    </div>
                    <div class="hotel-rating">
                      <div class="stars">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                        <img src="images/catalog-images/rating-star.svg" width="18" height="17" alt="Рейтинг">
                      </div>
                        <p>Рейтинг: 9,2</p>
                    </div>
                </li>
            </ul>
            <!-- Кнопка загрузить больше -->
            <img src="images/catalog-images/divider.svg" class="divider" width="1055" height="1" alt="">
            <button class="dark-button-outline load-more">Загрузить ещё</button>
            <img src="images/catalog-images/divider.svg" class="divider" width="1055" height="1" alt="">
        </section>
        <!-- Нуммерация страниц -->
        <section class="page-pagination">
            <ol class="page-pagination-list">
                <a href="#" class="dark-button-outline page-pagination-item"><li>1</li></a>
                <a href="#" class="dark-button-outline page-pagination-item"><li>2</li></a>
                <a href="#" class="dark-button-outline page-pagination-item"><li>3</li></a>
                <a href="#" class="dark-button-outline page-pagination-item"><li>4</li></a>
                <a href="#" class="dark-button-outline page-pagination-item"><li>...</li></a>
                <a href="#" class="dark-button-outline page-pagination-item"><li>10</li></a>
            </ol>
            <p>Гостиниц на странице:</p>
            <select name="page-numbers-list" id="quantity-of-pages" class="input-outline">
                <option value="">1</option>
                <option value="">2</option>
                <option value="">3</option>
                <option value="">4</option>
            </select>
        </section>
        <!-- Подписка на рассылку -->
        <section class="subscribes">
            <h2 class="visually-hidden">Подписка на рассылку</h2>
            <p class="catalog-paragraph-header">Подпишитесь на рассылку</p>
            <p>Только полезная информация и никакого спама,<br>
              честное бойскаутское!</p>
              <form class="email-form" action="https://echo.htmlacademy.ru/" method="post">
                <input type="text" name="email-sending" placeholder="Ваш e-mail" class="email input-outline"><button class="subscribe-button dark-button-outline">Подписаться</button>
              </form>
          </section>
      </main>
        
           <!-- Footer -->
    <footer class="footer-wrapper">
        <section class="social-networks">
          <ul class="social-networks-list">
            <li class="social-networks-items">
              <a class="social-networks-link footer-twitter" href="#">
                <span class="visually-hidden">Twitter</span>
              </a>
            </li>
            <li class="social-networks-items">
              <a class="social-networks-link footer-facebook" href="#">
                <span class="visually-hidden">Facebook</span>
              </a>
            </li>
            <li class="social-networks-items">
              <a class="social-networks-link footer-youtube" href="#">
                <span class="visually-hidden">Youtube</span>
              </a>
            </li>
          </ul>
        </section>
        <section class="phone-number">
          <a href="tel:+78128121212" class="phone-number-link phone-button-outline">
            +7 (812) 812-12-12
          </a>
        </section>
        <section class="footer-logo">
          <a href="https://htmlacademy.ru/" class="footer-logo-link"></a>
        </section>
      </footer>

  </body>
</html>